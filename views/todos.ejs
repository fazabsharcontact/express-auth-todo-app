<%- include("partials/header", { title: "My Todos"}) %>

<div class="bg-white p-6 shadow">
    <h2 class="text-2xl font-bold mb-6">
        My Todos
    </h2>

    <form action="/todos" method="POST" class="flex gap-2 mb-4">
        <input type="text" name="text" placeholder="New Todos...." class="flex-1 border p-2 rounded" required>
        <button class="bg-gray-800 text-white px-4 rounded">Add</button>
    </form>

    <% if (todos.length === 0) { %>
        <p class="text-gray-600">No todos yes.</p>
    <% } %>

    <ul>
        <% todos.forEach( todo => { %>
            <li class="flex items-center justify-between border-b p-2 rounded">
                <span><%= todo.text %></span>

                <form action="/todos/<%= todo.id %>/delete" method="POST" onsubmit="return confirm('Delete this todo?')">
                    <button class="text-red-600 hover:underline">
                        Delete
                    </button>
                </form>
            </li>
        <% }) %>
    </ul>
</div>

<%- include("partials/footer") %>